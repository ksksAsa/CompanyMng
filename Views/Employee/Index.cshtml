@model IEnumerable<CompanyMng.Models.Employee>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<script src="~/Scripts/bootstrap.min.js"></script>

<div class="table-responsive" style="width:40%" ;margin-top:2%>

    <p>
       
        <a href="@Url.Action("Create", "Employee")" class="btn btn-success" data-toggle="modal" , data-target="#" data-modal="create">
            <span class="glyphicon glyphicon-eye-open" aria-hidden="true">Create</span>
        </a>
    </p>
    <table class="table table-responsive">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Department.DepartmentName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FirstName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.LastName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Email)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.BirthDate)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Department.DepartmentName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FirstName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.LastName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Email)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.BirthDate)
                </td>
                <td>
                  <a href="@Url.Action("Edit","Employee", new {id=item.EmployeeID})" class="btn btn-success" data-toggle="modal", data-target="#" data-modal="edit">
                      <span class="glyphicon glyphicon-pencil" aria-hidden="true"/>
                  </a>                    
                </td>
                <td>
                    <a href="@Url.Action("Details", "Employee", new {id = item.EmployeeID})" class="btn btn-success" data-toggle="modal", data-target="#" data-modal="details">
                    <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                    </a>
                </td>
                <td>
                   <a href="@Url.Action("Delete","Employee",new { id=item.EmployeeID})" class="btn btn-danger">
                       <span class="glyphicon glyphicon-trash"/>
                   </a>
                </td>
            </tr>
        }

    </table>


    <div id='detailsModal' class='modal fade'>
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <a href="#" class="close" data-dismiss="modal">&times;</a>
                    <h3 class="modal-title">ShowEmployee</h3>
                </div>
                <div id='myModalDetailsContent'></div>
                <div class="modal-footer">
                    <a href="#" class="btn btn-default" data-dismiss="modal">Cancel</a>

                </div>
               
            </div>
        </div>
    </div>

    <div id='editModal' class='modal fade'>
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <a href="#" class="close" data-dismiss="modal">&times;</a>
                    <h3 class="modal-title">EditEmployee</h3>
                </div>
                <div id='myModalEditContent'></div>
                <div class="modal-footer">
                    <a href="#" class="btn btn-default" data-dismiss="modal">Cancel</a>

                </div>

            </div>
        </div>
    </div>

    <div id='createModal' class='modal fade'>
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <a href="#" class="close" data-dismiss="modal">&times;</a>
                    <h3 class="modal-title">EditEmployee</h3>
                </div>
                <div id='myModalCreateContent'></div>
                <div class="modal-footer">
                    <a href="#" class="btn btn-default" data-dismiss="modal">Cancel</a>

                </div>

            </div>
        </div>
    </div>


    </div>
<script>
    $(function () {

        $.ajaxSetup({ cache: false });

        $("a[data-modal=details]").on("click", function (e) {

            $('#myModalDetailsContent').load(this.href, function () {


                $('#detailsModal').modal({
                    /*backdrop: 'static',*/
                    keyboard: true
                }, 'show');

            });

            return false;
        });
    });

    $(function () {

        $.ajaxSetup({ cache: false });

        $("a[data-modal=edit]").on("click", function (e) {

            $('#myModalEditContent').load(this.href, function () {
               

                $('#editModal').modal({
                   
                    keyboard: true
                }, 'show');
               
            });

            return false;
        });
    });

    $(function () {

        $.ajaxSetup({ cache: false });

        $("a[data-modal=create]").on("click", function (e) {

            $('#myModalCreateContent').load(this.href, function () {


                $('#createModal').modal({

                    keyboard: true
                }, 'show');

            });

            return false;
        });
    });

</script>